{"version":3,"file":"xreplay-recorder.global.js","sources":["../recorder/events.ts","../recorder/watcher.ts","../recorder/watchers/dom.ts","../recorder/finder.ts","../recorder/form.ts","../recorder/watchers/form.ts","../recorder/watchers/keyboard.ts","../recorder/watchers/location.ts","../recorder/watchers/mouse.ts","../recorder/watchers/scroll.ts","../recorder/watchers/window.ts","../recorder/watchers/index.ts","../recorder/recorder.ts"],"sourcesContent":["export class EventEmitter {\n  listeners: any = {}\n  on(type: string, handler: any) {\n    this.listeners[type] = this.listeners[type] || [];\n    this.listeners[type].push(handler);\n    return this;\n  }\n  emit(type: string, data: any) {\n    console.log(type, data);\n    for (const fn of this.listeners[type] || []) {\n      fn.call(this, data);\n    }\n  }\n}","import { EventEmitter } from \"./events\"\n\ntype Procedure = (...args: any[]) => void\n\ntype Options = {\n  isImmediate?: boolean\n  // not standard\n  isTrailing?: boolean\n}\n\nexport function debounce<F extends Procedure>(\n  func: F,\n  waitMilliseconds: number,\n  options: Options = {\n    isImmediate: false,\n    isTrailing: false\n  }\n): (this: ThisParameterType<F>, ...args: Parameters<F>) => void {\n  let timeoutId: ReturnType<typeof setTimeout> | undefined\n\n  return function (this: ThisParameterType<F>, ...args: Parameters<F>) {\n    const context = this\n    const doLater = function () {\n      timeoutId = undefined\n      if (!options.isImmediate || options.isTrailing) {\n        func.apply(context, args)\n      }\n    }\n    const shouldCallNow = options.isImmediate && timeoutId === undefined\n    if (timeoutId !== undefined) {\n      clearTimeout(timeoutId)\n    }\n    timeoutId = setTimeout(doLater, waitMilliseconds)\n    if (shouldCallNow) {\n      func.apply(context, args)\n    }\n  }\n}\n\nexport function throttle(func: Function, wait: number, options: { leading?: boolean; trailing?: boolean } = {}): any {\n  let context: any\n  let args: any\n  let result: any\n  let timeout: any = null\n  let previous = 0\n\n  const later = function () {\n    previous = options.leading === false ? 0 : Date.now()\n    timeout = null\n    result = func.apply(context, args)\n    if (!timeout) context = args = null\n  }\n  return function (this: any) {\n    const now = Date.now()\n    if (!previous && options.leading === false) previous = now\n    const remaining = wait - (now - previous)\n    context = this\n    args = arguments\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout)\n        timeout = null\n      }\n      previous = now\n      result = func.apply(context, args)\n      if (!timeout) context = args = null\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(later, remaining)\n    }\n    return result\n  }\n}\n\nexport class Watcher extends EventEmitter {\n  running = false\n  start() {\n    this.running = true;\n  }\n  stop() {\n    this.running = false;\n  }\n  install(options: any) {\n    throw new Error();\n  }\n  report(type: string, data: any) {\n    if (!this.running) return;\n    const timestamp = Date.now();\n    return this.emit('record', { type, data, timestamp });\n  }\n  registerUninstall(fn: any) {\n    return this.on('uninstall', fn);\n  }\n  uninstall() {\n    const hooks = this.listeners['uninstall'];\n    hooks.forEach((fn: any) => fn());\n  }\n  public registerEvent(options: {\n    context: Window\n    eventTypes: string[]\n    handleFn: (...args: any[]) => void\n    listenerOptions: AddEventListenerOptions\n    type: 'throttle' | 'debounce'\n    optimizeOptions?: { [key: string]: boolean }\n    waitTime: number\n  }) {\n    const { context, eventTypes, handleFn, listenerOptions, type, optimizeOptions, waitTime } = options\n    let listenerHandle: any;\n    switch (type) {\n      case 'debounce':\n        listenerHandle = debounce;\n        break;\n      case 'throttle':\n        listenerHandle = throttle;\n        break;\n    }\n    eventTypes\n      .map(type => (fn: (e: Event) => void) => {\n        context.addEventListener(type, fn, listenerOptions)\n      })\n      .forEach(handle => handle(listenerHandle(handleFn, waitTime, optimizeOptions)))\n\n    this.registerUninstall(() => {\n      eventTypes.forEach(type => {\n        context.removeEventListener(type, listenerHandle, listenerOptions)\n      })\n    })\n  }\n}","import { Watcher } from \"../watcher\";\n\nexport class DOMWatcher extends Watcher {\n  install({ context }: any) {\n    const observer = new MutationObserver((records) => {\n      // console.log('records', records);\n      for (const record of records) {\n        const { target, addedNodes, removedNodes, type, attributeName, oldValue } = record\n        switch (type) {\n          case 'attributes':\n            console.log(type, { key: attributeName!, node: target, oldValue });\n            break\n          case 'characterData':\n            console.log(type, target);\n            break\n          case 'childList':\n            console.log(type, addedNodes, removedNodes);\n            break\n          default:\n            break\n        }\n      }\n    });\n    observer.observe(context.document.documentElement, {\n      attributeOldValue: true,\n      attributes: true,\n      characterData: true,\n      characterDataOldValue: true,\n      childList: true,\n      subtree: true\n    })\n    this.registerUninstall(() => observer.disconnect());\n  }\n}","type Node = {\n  name: string;\n  penalty: number;\n  level?: number;\n};\n\ntype Path = Node[];\n\nenum Limit {\n  All,\n  Two,\n  One,\n}\n\nexport type Options = {\n  root: Element;\n  idName: (name: string) => boolean;\n  className: (name: string) => boolean;\n  tagName: (name: string) => boolean;\n  attr: (name: string, value: string) => boolean;\n  seedMinLength: number;\n  optimizedMinLength: number;\n  threshold: number;\n  maxNumberOfTries: number;\n};\n\nlet config: Options;\n\nlet rootDocument: Document | Element;\nexport function finder(input: Element, options?: Partial<Options>) {\n  if (input.nodeType !== Node.ELEMENT_NODE) {\n    console.error(input);\n    throw new Error(`Can't generate CSS selector for non-element node type.`);\n  }\n\n  if (\"html\" === input.tagName.toLowerCase()) {\n    return \"html\";\n  }\n\n  const defaults: Options = {\n    root: document.body,\n    idName: (name: string) => true,\n    className: (name: string) => true,\n    tagName: (name: string) => true,\n    attr: (name: string, value: string) => false,\n    seedMinLength: 1,\n    optimizedMinLength: 2,\n    threshold: 1000,\n    maxNumberOfTries: 10000,\n  };\n\n  config = { ...defaults, ...options };\n\n  rootDocument = findRootDocument(config.root, defaults);\n\n  let path = bottomUpSearch(input, Limit.All, () =>\n    bottomUpSearch(input, Limit.Two, () => bottomUpSearch(input, Limit.One))\n  );\n\n  if (path) {\n    const optimized = sort(optimize(path, input));\n\n    if (optimized.length > 0) {\n      path = optimized[0];\n    }\n\n    return selector(path);\n  } else {\n    throw new Error(`Selector was not found.`);\n  }\n}\n\nfunction findRootDocument(rootNode: Element | Document, defaults: Options) {\n  if (rootNode.nodeType === Node.DOCUMENT_NODE) {\n    return rootNode;\n  }\n  if (rootNode === defaults.root) {\n    return rootNode.ownerDocument as Document;\n  }\n  return rootNode;\n}\n\nfunction bottomUpSearch(\n  input: Element,\n  limit: Limit,\n  fallback?: () => Path | null\n): Path | null {\n  let path: Path | null = null;\n  let stack: Node[][] = [];\n  let current: Element | null = input;\n  let i = 0;\n\n  while (current && current !== config.root.parentElement) {\n    let level: Node[] = maybe(id(current)) ||\n      maybe(...attr(current)) ||\n      maybe(...classNames(current)) ||\n      maybe(tagName(current)) || [any()];\n\n    const nth = index(current);\n\n    if (limit === Limit.All) {\n      if (nth) {\n        level = level.concat(\n          level.filter(dispensableNth).map((node) => nthChild(node, nth))\n        );\n      }\n    } else if (limit === Limit.Two) {\n      level = level.slice(0, 1);\n\n      if (nth) {\n        level = level.concat(\n          level.filter(dispensableNth).map((node) => nthChild(node, nth))\n        );\n      }\n    } else if (limit === Limit.One) {\n      const [node] = (level = level.slice(0, 1));\n\n      if (nth && dispensableNth(node)) {\n        level = [nthChild(node, nth)];\n      }\n    }\n\n    for (let node of level) {\n      node.level = i;\n    }\n\n    stack.push(level);\n\n    if (stack.length >= config.seedMinLength) {\n      path = findUniquePath(stack, fallback);\n      if (path) {\n        break;\n      }\n    }\n\n    current = current.parentElement;\n    i++;\n  }\n\n  if (!path) {\n    path = findUniquePath(stack, fallback);\n  }\n\n  return path;\n}\n\nfunction findUniquePath(\n  stack: Node[][],\n  fallback?: () => Path | null\n): Path | null {\n  const paths = sort(combinations(stack));\n\n  if (paths.length > config.threshold) {\n    return fallback ? fallback() : null;\n  }\n\n  for (let candidate of paths) {\n    if (unique(candidate)) {\n      return candidate;\n    }\n  }\n\n  return null;\n}\n\nfunction selector(path: Path): string {\n  let node = path[0];\n  let query = node.name;\n  for (let i = 1; i < path.length; i++) {\n    const level = path[i].level || 0;\n\n    if (node.level === level - 1) {\n      query = `${path[i].name} > ${query}`;\n    } else {\n      query = `${path[i].name} ${query}`;\n    }\n\n    node = path[i];\n  }\n  return query;\n}\n\nfunction penalty(path: Path): number {\n  return path.map((node) => node.penalty).reduce((acc, i) => acc + i, 0);\n}\n\nfunction unique(path: Path) {\n  switch (rootDocument.querySelectorAll(selector(path)).length) {\n    case 0:\n      throw new Error(\n        `Can't select any node with this selector: ${selector(path)}`\n      );\n    case 1:\n      return true;\n    default:\n      return false;\n  }\n}\n\nfunction id(input: Element): Node | null {\n  const elementId = input.getAttribute(\"id\");\n  if (elementId && config.idName(elementId)) {\n    return {\n      name: \"#\" + cssesc(elementId, { isIdentifier: true }),\n      penalty: 0,\n    };\n  }\n  return null;\n}\n\nfunction attr(input: Element): Node[] {\n  const attrs = Array.from(input.attributes).filter((attr) =>\n    config.attr(attr.name, attr.value)\n  );\n\n  return attrs.map(\n    (attr): Node => ({\n      name:\n        \"[\" +\n        cssesc(attr.name, { isIdentifier: true }) +\n        '=\"' +\n        cssesc(attr.value) +\n        '\"]',\n      penalty: 0.5,\n    })\n  );\n}\n\nfunction classNames(input: Element): Node[] {\n  const names = Array.from(input.classList).filter(config.className);\n\n  return names.map(\n    (name): Node => ({\n      name: \".\" + cssesc(name, { isIdentifier: true }),\n      penalty: 1,\n    })\n  );\n}\n\nfunction tagName(input: Element): Node | null {\n  const name = input.tagName.toLowerCase();\n  if (config.tagName(name)) {\n    return {\n      name,\n      penalty: 2,\n    };\n  }\n  return null;\n}\n\nfunction any(): Node {\n  return {\n    name: \"*\",\n    penalty: 3,\n  };\n}\n\nfunction index(input: Element): number | null {\n  const parent = input.parentNode;\n  if (!parent) {\n    return null;\n  }\n\n  let child = parent.firstChild;\n  if (!child) {\n    return null;\n  }\n\n  let i = 0;\n  while (child) {\n    if (child.nodeType === Node.ELEMENT_NODE) {\n      i++;\n    }\n\n    if (child === input) {\n      break;\n    }\n\n    child = child.nextSibling;\n  }\n\n  return i;\n}\n\nfunction nthChild(node: Node, i: number): Node {\n  return {\n    name: node.name + `:nth-child(${i})`,\n    penalty: node.penalty + 1,\n  };\n}\n\nfunction dispensableNth(node: Node) {\n  return node.name !== \"html\" && !node.name.startsWith(\"#\");\n}\n\nfunction maybe(...level: (Node | null)[]): Node[] | null {\n  const list = level.filter(notEmpty);\n  if (list.length > 0) {\n    return list;\n  }\n  return null;\n}\n\nfunction notEmpty<T>(value: T | null | undefined): value is T {\n  return value !== null && value !== undefined;\n}\n\nfunction* combinations(stack: Node[][], path: Node[] = []): Generator<Node[]> {\n  if (stack.length > 0) {\n    for (let node of stack[0]) {\n      yield* combinations(stack.slice(1, stack.length), path.concat(node));\n    }\n  } else {\n    yield path;\n  }\n}\n\nfunction sort(paths: Iterable<Path>): Path[] {\n  return Array.from(paths).sort((a, b) => penalty(a) - penalty(b));\n}\n\ntype Scope = {\n  counter: number;\n  visited: Map<string, boolean>;\n};\n\nfunction* optimize(\n  path: Path,\n  input: Element,\n  scope: Scope = {\n    counter: 0,\n    visited: new Map<string, boolean>(),\n  }\n): Generator<Node[]> {\n  if (path.length > 2 && path.length > config.optimizedMinLength) {\n    for (let i = 1; i < path.length - 1; i++) {\n      if (scope.counter > config.maxNumberOfTries) {\n        return; // Okay At least I tried!\n      }\n      scope.counter += 1;\n      const newPath = [...path];\n      newPath.splice(i, 1);\n      const newPathKey = selector(newPath);\n      if (scope.visited.has(newPathKey)) {\n        return;\n      }\n      if (unique(newPath) && same(newPath, input)) {\n        yield newPath;\n        scope.visited.set(newPathKey, true);\n        yield* optimize(newPath, input, scope);\n      }\n    }\n  }\n}\n\nfunction same(path: Path, input: Element) {\n  return rootDocument.querySelector(selector(path)) === input;\n}\n\nconst regexAnySingleEscape = /[ -,\\.\\/:-@\\[-\\^`\\{-~]/;\nconst regexSingleEscape = /[ -,\\.\\/:-@\\[\\]\\^`\\{-~]/;\nconst regexExcessiveSpaces =\n  /(^|\\\\+)?(\\\\[A-F0-9]{1,6})\\x20(?![a-fA-F0-9\\x20])/g;\n\nconst defaultOptions = {\n  escapeEverything: false,\n  isIdentifier: false,\n  quotes: \"single\",\n  wrap: false,\n};\n\nfunction cssesc(string: string, opt: Partial<typeof defaultOptions> = {}) {\n  const options = { ...defaultOptions, ...opt };\n  if (options.quotes != \"single\" && options.quotes != \"double\") {\n    options.quotes = \"single\";\n  }\n  const quote = options.quotes == \"double\" ? '\"' : \"'\";\n  const isIdentifier = options.isIdentifier;\n\n  const firstChar = string.charAt(0);\n  let output = \"\";\n  let counter = 0;\n  const length = string.length;\n  while (counter < length) {\n    const character = string.charAt(counter++);\n    let codePoint = character.charCodeAt(0);\n    let value: string | undefined = void 0;\n    // If it’s not a printable ASCII character…\n    if (codePoint < 0x20 || codePoint > 0x7e) {\n      if (codePoint >= 0xd800 && codePoint <= 0xdbff && counter < length) {\n        // It’s a high surrogate, and there is a next character.\n        const extra = string.charCodeAt(counter++);\n        if ((extra & 0xfc00) == 0xdc00) {\n          // next character is low surrogate\n          codePoint = ((codePoint & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000;\n        } else {\n          // It’s an unmatched surrogate; only append this code unit, in case\n          // the next code unit is the high surrogate of a surrogate pair.\n          counter--;\n        }\n      }\n      value = \"\\\\\" + codePoint.toString(16).toUpperCase() + \" \";\n    } else {\n      if (options.escapeEverything) {\n        if (regexAnySingleEscape.test(character)) {\n          value = \"\\\\\" + character;\n        } else {\n          value = \"\\\\\" + codePoint.toString(16).toUpperCase() + \" \";\n        }\n      } else if (/[\\t\\n\\f\\r\\x0B]/.test(character)) {\n        value = \"\\\\\" + codePoint.toString(16).toUpperCase() + \" \";\n      } else if (\n        character == \"\\\\\" ||\n        (!isIdentifier &&\n          ((character == '\"' && quote == character) ||\n            (character == \"'\" && quote == character))) ||\n        (isIdentifier && regexSingleEscape.test(character))\n      ) {\n        value = \"\\\\\" + character;\n      } else {\n        value = character;\n      }\n    }\n    output += value;\n  }\n\n  if (isIdentifier) {\n    if (/^-[-\\d]/.test(output)) {\n      output = \"\\\\-\" + output.slice(1);\n    } else if (/\\d/.test(firstChar)) {\n      output = \"\\\\3\" + firstChar + \" \" + output.slice(1);\n    }\n  }\n\n  // Remove spaces after `\\HEX` escapes that are not followed by a hex digit,\n  // since they’re redundant. Note that this is only possible if the escape\n  // sequence isn’t preceded by an odd number of backslashes.\n  output = output.replace(regexExcessiveSpaces, function ($0, $1, $2) {\n    if ($1 && $1.length % 2) {\n      // It’s not safe to remove the space, so don’t.\n      return $0;\n    }\n    // Strip the space.\n    return ($1 || \"\") + $2;\n  });\n\n  if (!isIdentifier && options.wrap) {\n    return quote + output + quote;\n  }\n  return output;\n}","\n\nenum eventTypes {\n  'input' = 'input',\n  'change' = 'change',\n  'focus' = 'focus',\n  'blur' = 'blur'\n}\n\ntype EventHandler = (el: HTMLInputElement, key: string, value: any) => void;\n\nexport const createFormMonitor = (context: any, handleEvent: EventHandler) => {\n  const eventListenerOptions = { once: false, passive: true, capture: true };\n  function fn(this: Window, e: Event) {\n    const { type: eventType } = e;\n    const target = e.target as HTMLInputElement;\n    let key = '', value;\n    switch (eventType) {\n      case eventTypes.focus:\n        key = 'focus';\n        break;\n      case eventTypes.blur:\n        key = 'blur';\n        break;\n      case eventTypes.input:\n      case eventTypes.change:\n        key = 'value';\n        const inputType = target.getAttribute('type') || 'text';\n        if (inputType === 'checkbox' || inputType === 'radio') {\n          if (eventType === 'input') return;\n          key = 'checked';\n        }\n        value = (target as any)[key];\n        break;\n    }\n    if(target.nodeType === Node.ELEMENT_NODE) {\n      handleEvent(target, key, value);\n    }\n  };\n  const arr: any[] = [];\n  for (const type of Object.values(eventTypes)) {\n    context.addEventListener(type, fn, eventListenerOptions);\n    arr.push(() => context.removeEventListener(type, fn, eventListenerOptions));\n  }\n  const hijacking = (key: string, target: HTMLElement) => {\n    const descriptor: any = Object.getOwnPropertyDescriptor(target, key);\n    Object.defineProperty(target, key, {\n      set(value: string | boolean) {\n        setTimeout(() => handleEvent(this, key, value));\n        if (descriptor && descriptor.set) {\n          descriptor.set.call(this, value);\n        }\n      }\n    });\n    arr.push(() => Object.defineProperty(target, key, descriptor));\n  }\n  const bind = () => {\n    new Map<HTMLElement, string>([\n      [context.HTMLSelectElement.prototype, 'value'],\n      [context.HTMLTextAreaElement.prototype, 'value'],\n      [context.HTMLOptionElement.prototype, 'selected']\n    ]).forEach((target, key) => hijacking(target, key));\n\n    new Map<string, HTMLElement>([\n      ['value', context.HTMLInputElement.prototype],\n      ['checked', context.HTMLInputElement.prototype]\n    ]).forEach((target, key) => hijacking(key, target));\n  };\n  return {\n    bind,\n    hijacking,\n    unbind: () => arr.map(fn => fn())\n  };\n};\n","import { finder } from '../finder';\nimport { Watcher } from '../watcher';\nimport { createFormMonitor } from '../form';\n\nexport class FormWatcher extends Watcher {\n  install({ context }: any) {\n    const { bind, unbind } = createFormMonitor(context, (el: HTMLElement, key: string, value: any) => {\n      const selector = finder(el);\n      this.report('FORM_ELEMENT', { key, value, selector });\n    });\n    this.registerUninstall(unbind);\n    return bind();\n  }\n}\n","import { Watcher } from \"../watcher\";\n\nexport class KeyboardWatcher extends Watcher {\n  install({ context }: any) {\n    this.registerEvent({\n      context,\n      eventTypes: ['keypress'],\n      listenerOptions: { capture: true },\n      type: 'throttle',\n      waitTime: 100,\n      optimizeOptions: {},\n      handleFn: (e) => {\n        const { key, code, ctrlKey, shiftKey, altKey, metaKey, repeat, target } = e;\n        this.report('KEYBOARD', { key, code, ctrlKey, shiftKey, altKey, metaKey, repeat, target });\n      }\n    });\n  }\n}","\nimport { Watcher } from '../watcher'\n\nenum LocationTypes {\n  'replaceState' = 'replaceState',\n  'pushState' = 'pushState',\n  'popstate' = 'popstate',\n  'hashchange' = 'hashchange'\n}\n\nexport const createLocationMonitor = (context: any, fn: any) => {\n  const rewrite = (history: any, type: string) => {\n    const original = history[type];\n    return history[type] = function (this: any) {\n      const e = new Event(type);\n      original.apply(this, arguments);\n      context.dispatchEvent(e);\n    }\n  };\n  const arr: any[] = [];\n  const bind = () => {\n    rewrite(context.history, 'pushState');\n    rewrite(context.history, 'replaceState');\n    const types = Object.values(LocationTypes);\n    types.forEach(type => {\n      context.addEventListener(type, fn);\n      arr.push(() => context.removeEventListener(type, fn));\n    });\n  };\n  return {\n    bind,\n    unbind: () => arr.map(fn => fn())\n  }\n};\n\nexport class LocationWatcher extends Watcher {\n  install({ context }: any) {\n    const { bind, unbind } = createLocationMonitor(context, (e: Event) => {\n      const { title } = document;\n      const { href, pathname, hash } = context.location;\n      this.report('LOCATION', { title, href, path: pathname, hash });\n    });\n    this.registerUninstall(unbind);\n    return bind();\n  }\n}","\nimport { Watcher } from '../watcher'\nimport { finder } from '../finder';\n\n// export const bindMove = (context: any, fn: any) => {\n//   const handle = throttle((e: MouseEvent) => {\n//     const { offsetX: x, offsetY: y } = e;\n//     fn({ x, y });\n//   }, 300, {\n//     trailing: true,\n//     leading: true\n//   });\n//   context.addEventListener('mousemove', handle);\n// };\n\n// export const bindClick = (context: any, fn: any) => {\n//   context.addEventListener('click', (e: PointerEvent) => {\n//     const { offsetX: x, offsetY: y, target } = e;\n//     fn({ x, y, target });\n//   });\n// };\n\n// export const createMouseMonitor = (context: any) => {\n//   return {\n//     bindMove: (fn: any) => bindMove(context, fn),\n//     bindClick: (fn: any) => bindClick(context, fn),\n//   };\n// };\n\ntype OptionType = {\n  context: Window,\n};\n\nexport class MouseWatcher extends Watcher {\n  install({ context }: OptionType) {\n    this.registerEvent({\n      context,\n      eventTypes: ['mousemove'],\n      type: 'throttle',\n      waitTime: 300,\n      listenerOptions: {},\n      optimizeOptions: {\n        trailing: true,\n        leading: true\n      },\n      handleFn: (e: MouseEvent) => {\n        const { offsetX: x, offsetY: y } = e;\n        this.report('MOUSE', { type: 'MOVE', x, y });\n      },\n    });\n    this.registerEvent({\n      context,\n      eventTypes: ['click'],\n      type: 'throttle',\n      waitTime: 300,\n      listenerOptions: {},\n      handleFn: (e) => {\n        const { offsetX: x, offsetY: y, target } = e;\n        const selector = finder(target);\n        this.report('MOUSE', { type: 'CLICK', x, y, selector });\n      }\n    });\n  }\n}\n","import { Watcher } from '../watcher'\n\nexport class ScrollWatcher extends Watcher {\n  install({ context }: any) {\n    const { scrollingElement } = context.document;\n    this.registerEvent({\n      context,\n      type: 'throttle',\n      eventTypes: ['scroll'],\n      listenerOptions: { capture: true },\n      optimizeOptions: {},\n      waitTime: 100,\n      handleFn: (e) => {\n        console.log('scroll', e);\n      }\n    })\n  }\n}\n","\nimport { Watcher } from '../watcher'\n\nconst getWindowSize = (context: any) => {\n  const { innerWidth: width, innerHeight: height } = context;\n  return { width, height }\n};\n\nexport class WindowWatcher extends Watcher {\n  install({ context }: any) {\n    this.sendData(context);\n    this.registerEvent({\n      context,\n      eventTypes: ['resize'],\n      listenerOptions: { capture: true },\n      type: 'throttle',\n      optimizeOptions: { trailing: true },\n      waitTime: 500,\n      handleFn: () => this.sendData(context)\n    })\n  }\n  sendData(context: any) {\n    const size = getWindowSize(context);\n    this.report('WINDOW', size);\n  }\n}\n","import { DOMWatcher } from './dom';\nimport { FormWatcher } from './form';\nimport { KeyboardWatcher } from './keyboard';\nimport { LocationWatcher } from './location';\nimport { MouseWatcher } from './mouse';\nimport { ScrollWatcher } from './scroll';\nimport { WindowWatcher } from './window';\n\nexport const allWatchers: any = [\n    DOMWatcher,\n    FormWatcher,\n    MouseWatcher,\n    ScrollWatcher,\n    WindowWatcher,\n    LocationWatcher,\n    KeyboardWatcher,\n];","import { Watcher } from './watcher';\nimport { EventEmitter } from './events';\nimport { allWatchers } from './watchers';\n\ntype RecorderOption = {\n  disableWatchers: string[]\n};\n\nexport class Recorder extends EventEmitter {\n  options = {\n    context: window\n  }\n  watchers = []\n  constructor({ disableWatchers }: RecorderOption) {\n    super();\n    this.watchers = allWatchers\n      .filter((x: any) => disableWatchers.indexOf(x.name) === -1)\n      .map((W: any) => new W())\n    this.install();\n  }\n  install() {\n    const { options, watchers } = this;\n    const report = (data: any) => this.emit('report', data);\n    for (const watcher of watchers) {\n      (watcher as any).on('report', report);\n      (watcher as any).install(options);\n    }\n  }\n  start() {\n    for (const watcher of this.watchers as any) {\n      watcher.start();\n    }\n  }\n}"],"names":[],"mappings":"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"}